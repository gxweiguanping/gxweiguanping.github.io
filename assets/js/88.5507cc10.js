(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{418:function(s,a,t){"use strict";t.r(a);var n=t(8),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"索引的创建和设计原则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引的创建和设计原则"}},[s._v("#")]),s._v(" 索引的创建和设计原则")]),s._v(" "),a("h2",{attrs:{id:"索引的优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引的优点"}},[s._v("#")]),s._v(" 索引的优点")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("提高查询性能")]),s._v("：索引可以大大减少查询数据的扫描量，通过创建适当的索引，可以使数据库系统快速定位到所需数据，从而加快查询速度。对于大型数据库和复杂查询，使用索引可以显著减少查询时间，提高系统响应速度。")]),s._v(" "),a("li",[a("code",[s._v("加快数据检索")]),s._v("：索引可以帮助数据库引擎快速定位到符合查询条件的数据，而不需要对整个数据集进行扫描。通过索引，数据库可以直接跳过不符合条件的数据，只处理符合条件的数据，从而提高检索效率。")]),s._v(" "),a("li",[a("code",[s._v("优化排序和分组")]),s._v("：对于包含排序和分组操作的查询，使用合适的索引可以避免对整个数据集进行排序和分组，而是直接利用索引的有序性进行快速排序和分组操作，提高执行效率。")]),s._v(" "),a("li",[a("code",[s._v("加速连接操作")]),s._v("：在关联查询中，使用索引可以加速连接操作，减少连接的成本。通过合适的索引，数据库可以快速定位到连接所需的数据，提高连接查询的性能。")]),s._v(" "),a("li",[a("code",[s._v("约束数据完整性")]),s._v("：索引可以用于创建唯一约束和主键约束，确保数据的完整性和唯一性。通过索引，数据库可以快速检查数据是否重复或满足约束条件，保证数据的一致性和准确性。")])]),s._v(" "),a("p",[s._v("总的来说，使用索引可以显著提高数据库的查询性能和数据检索效率，减少系统资源的消耗。然而，索引的设计和使用需要权衡考虑，过多或不合理的索引可能会增加数据插入和更新的成本，降低数据库的写操作性能。因此，在使用索引时需要根据具体的业务需求和数据特点进行"),a("code",[s._v("合理")]),s._v("的设计和优化。")]),s._v(" "),a("h2",{attrs:{id:"索引的缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引的缺点"}},[s._v("#")]),s._v(" 索引的缺点")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("占用存储空间")]),s._v("：索引需要占用额外的存储空间，特别是在大规模数据集上使用多个索引时，会增加存储需求。")]),s._v(" "),a("li",[a("code",[s._v("增加写操作的成本")]),s._v("：对于插入、更新和删除操作，索引需要更新和维护，这会增加写操作的成本和时间。")]),s._v(" "),a("li",[a("code",[s._v("增加索引维护的开销")]),s._v("：随着数据的变化和索引的增加，数据库需要花费更多的时间和资源来维护索引的结构，特别是在频繁的数据修改操作时。")]),s._v(" "),a("li",[a("code",[s._v("索引选择的复杂性")]),s._v("：设计合适的索引需要考虑多个因素，如查询的频率、数据的分布情况、表的大小等，选择不当的索引可能会导致性能下降。")]),s._v(" "),a("li",[a("code",[s._v("更新索引的性能损失")]),s._v("：对于频繁进行数据更新的表，索引的存在会增加更新操作的成本和时间，因为每次更新都需要更新索引。")])]),s._v(" "),a("h2",{attrs:{id:"索引的声明与创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引的声明与创建"}},[s._v("#")]),s._v(" 索引的声明与创建")]),s._v(" "),a("h3",{attrs:{id:"创建表的时候创建索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建表的时候创建索引"}},[s._v("#")]),s._v(" 创建表的时候创建索引")]),s._v(" "),a("p",[s._v("在创建表时，可以使用 "),a("code",[s._v("CREATE TABLE")]),s._v(" 语句的 "),a("code",[s._v("INDEX")]),s._v(" 子句来创建索引。以下是创建表时创建索引的示例：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" table_name "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  column1 datatype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  column2 datatype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" index_name "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("column1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" index_name2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("column2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" column3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("在上面的示例中，通过 "),a("code",[s._v("INDEX")]),s._v(" 子句在创建表时定义了索引。可以指定要在哪些列上创建索引，并为索引指定一个名称。")]),s._v(" "),a("p",[s._v("请注意以下几点：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("index_name")]),s._v(" 是索引的名称，可以根据需要进行命名。")]),s._v(" "),a("li",[a("code",[s._v("column1")]),s._v(", "),a("code",[s._v("column2")]),s._v(", "),a("code",[s._v("column3")]),s._v(", ... 是要在其上创建索引的列名。")]),s._v(" "),a("li",[s._v("可以创建单列索引和多列索引。单列索引只在一个列上创建，而多列索引在多个列上创建。")]),s._v(" "),a("li",[s._v("可以为同一表创建多个索引，每个索引可以包含一个或多个列。")])]),s._v(" "),a("h3",{attrs:{id:"在已经存在的表上创建索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在已经存在的表上创建索引"}},[s._v("#")]),s._v(" 在已经存在的表上创建索引")]),s._v(" "),a("p",[s._v("在已经存在的表中创建索引可以使用ALTER TABLE语句或者CREATE INDEX语句。")]),s._v(" "),a("p",[s._v("1.使用ALTER TABLE语句创建索引 ALTER TABLE语句创建索引的基本语法如下")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" table_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" FULLTEXT "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" SPATIAL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("index_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ASC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("code",[s._v("ALTER TABLE")]),s._v(" 语句中的 "),a("code",[s._v("ADD [UNIQUE | FULLTEXT | SPATIAL] [INDEX | KEY]")]),s._v(" 用于在已存在的表中添加索引。")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("UNIQUE")]),s._v("：可选关键字，用于创建唯一索引，确保索引列的值在整个表中是唯一的。")]),s._v(" "),a("li",[a("code",[s._v("FULLTEXT")]),s._v("：可选关键字，用于创建全文索引，用于高效地进行全文搜索。")]),s._v(" "),a("li",[a("code",[s._v("SPATIAL")]),s._v("：可选关键字，用于创建空间索引，用于处理地理空间数据类型的查询。")]),s._v(" "),a("li",[a("code",[s._v("INDEX")]),s._v(" 或 "),a("code",[s._v("KEY")]),s._v(" 是关键字，用于指示要创建索引。")]),s._v(" "),a("li",[a("code",[s._v("[index_name]")]),s._v(" 是索引的名称，可以根据需要进行命名。")]),s._v(" "),a("li",[a("code",[s._v("(col_name[length],...)")]),s._v(" 是要在索引上创建的列名列表。可以指定一个或多个列，用逗号分隔。"),a("code",[s._v("length")]),s._v(" 是可选的，用于指定索引的长度限制。")]),s._v(" "),a("li",[a("code",[s._v("ASC")]),s._v(" 或 "),a("code",[s._v("DESC")]),s._v(" 是可选的排序方式，用于指定索引的排序顺序。默认情况下，索引按升序排序。")])]),s._v(" "),a("p",[s._v("2.使用CREATE INDEX创建索引 CREATE INDEX语句可以在已经存在的表上添加索引，在MySQL中，")]),s._v(" "),a("p",[s._v("CREATE INDEX被映射到一个ALTER TABLE语句上，基本语法结构为：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" FULLTEXT "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" SPATIAL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" index_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" table_name "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ASC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("code",[s._v("CREATE INDEX")]),s._v(" 是用于在数据库表上创建索引的 SQL 语句。索引是一种数据结构，用于提高数据库查询的性能和效率。")]),s._v(" "),a("p",[s._v("下面是 "),a("code",[s._v("CREATE INDEX")]),s._v(" 语句的各个部分的解释：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("UNIQUE")]),s._v(": 可选项，表示创建的索引是唯一索引，即索引列的值必须是唯一的。如果不指定该选项，则创建的索引可以包含重复的值。")]),s._v(" "),a("li",[a("code",[s._v("FULLTEXT")]),s._v(": 可选项，表示创建的索引是全文索引。全文索引用于对文本数据进行全文搜索和匹配。")]),s._v(" "),a("li",[a("code",[s._v("SPATIAL")]),s._v(": 可选项，表示创建的索引是空间索引。空间索引用于对具有地理空间属性的数据进行空间查询和分析。")]),s._v(" "),a("li",[a("code",[s._v("index_name")]),s._v(": 索引的名称，用于在表中标识该索引。索引名称必须是唯一的。")]),s._v(" "),a("li",[a("code",[s._v("table_name")]),s._v(": 要在其上创建索引的表的名称。")]),s._v(" "),a("li",[a("code",[s._v("col_name")]),s._v(": 要包含在索引中的列名。可以指定一个或多个列名，用逗号分隔。")]),s._v(" "),a("li",[a("code",[s._v("length")]),s._v(": 可选项，用于指定要包含在索引中的列的长度。对于文本列或二进制列，可以指定一个长度值，以控制索引的大小。")]),s._v(" "),a("li",[a("code",[s._v("ASC | DESC")]),s._v(": 可选项，用于指定索引列的排序顺序。默认为升序（ASC），可以使用 "),a("code",[s._v("DESC")]),s._v(" 指定降序排序。")])]),s._v(" "),a("h3",{attrs:{id:"删除索引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除索引"}},[s._v("#")]),s._v(" 删除索引")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("使用ALTER TABLE删除索引 ALTER TABLE删除索引的基本语法格式如下：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" table_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" index_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("使用DROP INDEX语句删除索引 DROP INDEX删除索引的基本语法格式如下：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" index_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" table_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"索引的设计原则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引的设计原则"}},[s._v("#")]),s._v(" 索引的设计原则")]),s._v(" "),a("h3",{attrs:{id:"适合建索引的情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#适合建索引的情况"}},[s._v("#")]),s._v(" 适合建索引的情况")]),s._v(" "),a("h3",{attrs:{id:"不适合建索引的情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不适合建索引的情况"}},[s._v("#")]),s._v(" 不适合建索引的情况")])])}),[],!1,null,null,null);a.default=e.exports}}]);