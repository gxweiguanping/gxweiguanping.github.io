(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{479:function(s,t,a){"use strict";a.r(t);var e=a(8),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"maven私服"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#maven私服"}},[s._v("#")]),s._v(" maven私服")]),s._v(" "),t("blockquote",[t("p",[s._v("私服（Private Repository）是部署在局域网内的特殊远程仓库，用于代理和管理项目构建所需的依赖库和第三方构件。其主要目的是优化依赖管理流程，提高构建和部署效率。")])]),s._v(" "),t("p",[s._v("通过私服，可以实现以下功能：")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("依赖代理和缓存：")]),s._v(" 私服作为一个中间层，可以代理访问外部的远程仓库，缓存下载过的构件。当项目构建需要依赖库时，首先在私服中查找，如果有则直接下载，避免频繁访问外部仓库，加快构建速度。")]),s._v(" "),t("li",[t("strong",[s._v("提供内部构件：")]),s._v(" 私服可以存储和管理内部开发的构件，团队成员可以将自己开发的库上传到私服，供团队内部共享使用。")]),s._v(" "),t("li",[t("strong",[s._v("第三方构件管理：")]),s._v(" 私服也可以用于存储和管理第三方的构件，这些构件可能无法直接从公共仓库获取，或者为了确保稳定性和安全性而选择存储在私服中。")]),s._v(" "),t("li",[t("strong",[s._v("镜像和高可用：")]),s._v(" 私服可以作为远程仓库的镜像，提供高可用性和稳定的访问，减少外部仓库不稳定性对项目构建的影响。")])]),s._v(" "),t("p",[s._v("Nexus 是一个流行的 Maven 仓库管理器，能够简化私服的搭建和维护。它提供了图形化界面来管理仓库、构件、权限等，支持缓存、镜像和代理等功能，大大提高了团队的开发效率和构建稳定性。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/studentgitee/note-picture/raw/master/image-20230817141854430.png",alt:"image-20230817141854430"}})]),s._v(" "),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.sonatype.com/nexus-repository-oss",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载地址"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"仓库概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#仓库概念"}},[s._v("#")]),s._v(" 仓库概念")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("仓库名称")]),s._v(" "),t("th",[s._v("描述")]),s._v(" "),t("th",[s._v("默认地址")]),s._v(" "),t("th",[s._v("策略")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("maven-central")]),s._v(" "),t("td",[s._v("Maven中央库，代理Maven中央仓库")]),s._v(" "),t("td",[t("a",{attrs:{href:"https://repo1.maven.org/maven2/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://repo1.maven.org/maven2/"),t("OutboundLink")],1)]),s._v(" "),t("td",[s._v("Release")])]),s._v(" "),t("tr",[t("td",[s._v("maven-releases")]),s._v(" "),t("td",[s._v("私有仓库，用于存储发行版jar包")]),s._v(" "),t("td",[s._v("配置自定义地址")]),s._v(" "),t("td",[s._v("Release")])]),s._v(" "),t("tr",[t("td",[s._v("maven-snapshots")]),s._v(" "),t("td",[s._v("私有仓库，用于存储快照（调试版本）jar包")]),s._v(" "),t("td",[s._v("配置自定义地址")]),s._v(" "),t("td",[s._v("Snapshot")])]),s._v(" "),t("tr",[t("td",[s._v("maven-public")]),s._v(" "),t("td",[s._v("仓库分组，包含上述三个仓库，对外提供服务")]),s._v(" "),t("td",[s._v("配置自定义地址，或组合maven-central和maven-releases等地址")]),s._v(" "),t("td",[s._v("-")])])])]),s._v(" "),t("p",[s._v("在Maven构建中，这些仓库的作用如下：")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("maven-central：")]),s._v(" 代理Maven中央仓库，用于下载已发布的稳定版本的构件。默认从 "),t("a",{attrs:{href:"https://repo1.maven.org/maven2/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://repo1.maven.org/maven2/ "),t("OutboundLink")],1),s._v("拉取jar包，适用于生产环境。")]),s._v(" "),t("li",[t("strong",[s._v("maven-releases：")]),s._v(" 私有仓库，用于存储发行版（Release）的jar包，包含项目的正式版本。可以配置自定义地址，方便团队内部管理和共享。")]),s._v(" "),t("li",[t("strong",[s._v("maven-snapshots：")]),s._v(" 私有仓库，用于存储快照（Snapshot）版本的jar包，这些版本通常用于开发和调试。同样可以配置自定义地址。")]),s._v(" "),t("li",[t("strong",[s._v("maven-public：")]),s._v(" 仓库分组，将maven-central、maven-releases和maven-snapshots这三个仓库组合在一起，对外提供服务。可以将组合后的仓库配置在Maven的 settings.xml 文件中，以便在项目中统一管理仓库地址。")])]),s._v(" "),t("h3",{attrs:{id:"nexus默认的仓库类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nexus默认的仓库类型"}},[s._v("#")]),s._v(" Nexus默认的仓库类型")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("仓库类型")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("group（仓库组类型）")]),s._v(" "),t("td",[s._v("用于创建开发人员自定义的仓库组，将多个仓库组合在一起。可以将多个仓库的访问组合成一个逻辑上的仓库。")])]),s._v(" "),t("tr",[t("td",[s._v("hosted（宿主类型）")]),s._v(" "),t("td",[s._v("用于存放内部项目的发布版（Release）jar包，开发人员发布的稳定版本将被存储在这个仓库中。")])]),s._v(" "),t("tr",[t("td",[s._v("proxy（代理类型）")]),s._v(" "),t("td",[s._v("用于从远程仓库中寻找和缓存数据，避免重复下载，提高构建效率。通常用于代理远程中央仓库或其他公共仓库。")])]),s._v(" "),t("tr",[t("td",[s._v("virtual（虚拟类型）")]),s._v(" "),t("td",[s._v("用于将多个仓库（宿主或代理）组合成一个虚拟仓库，使开发人员只需关注一个虚拟仓库，而无需关心底层实际仓库。")])])])]),s._v(" "),t("p",[s._v("Nexus 默认的仓库类型包括了仓库组类型（group）、宿主类型（hosted）、代理类型（proxy）以及虚拟类型（virtual）。这些类型的仓库可以根据项目需要灵活配置和组合，以满足不同场景下的依赖管理和构建需求。")]),s._v(" "),t("h3",{attrs:{id:"nexus仓库分类的概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nexus仓库分类的概念"}},[s._v("#")]),s._v(" Nexus仓库分类的概念")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("仓库分类概念")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("直接访问宿主仓库")]),s._v(" "),t("td",[s._v("Maven 可直接从宿主仓库中下载构件，宿主仓库存放着内部发布的稳定版本构件。")])]),s._v(" "),t("tr",[t("td",[s._v("代理仓库下载缓存构件")]),s._v(" "),t("td",[s._v("代理仓库间接地从远程仓库下载构件，并将下载的构件缓存起来，提高构建效率。")])]),s._v(" "),t("tr",[t("td",[s._v("仓库组访问")]),s._v(" "),t("td",[s._v("为了方便 Maven 下载构件，可以创建仓库组，仓库组本身没有实际内容，访问时会转向包含的宿主或代理仓库获得实际构件内容。")])])])]),s._v(" "),t("h3",{attrs:{id:"上传本地仓库的jar包到私服"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上传本地仓库的jar包到私服"}},[s._v("#")]),s._v(" 上传本地仓库的jar包到私服")]),s._v(" "),t("p",[s._v("1、修改本地maven配置文件settings.xml")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("servers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("releases"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("admin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("password"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("admin123456"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("snapshots"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("admin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("password"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("admin123456"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("servers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("2、在需要上传的项目中，在pom.xml添加一下配置")]),s._v(" "),t("div",{staticClass:"language-maven line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("    <distributionManagement>\n        <repository>\n            <id>maven-releases</id>\n            <url>http://192.168.1.29:8866/repository/maven-releases/</url>\n        </repository>\n        <snapshotRepository>\n            <id>maven-snapshots</id>\n            <url>http://192.168.1.29:8866/repository/maven-snapshots/</url>\n        </snapshotRepository>\n    </distributionManagement>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("上面id需要保持一致，url从copy按钮获得。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/studentgitee/note-picture/raw/master/image-20230817143459274.png",alt:"image-20230817143459274"}})]),s._v(" "),t("h3",{attrs:{id:"从私服下载jar包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从私服下载jar包"}},[s._v("#")]),s._v(" 从私服下载jar包")]),s._v(" "),t("p",[s._v("修改本地maven配置文件settings.xml")]),s._v(" "),t("div",{staticClass:"language-maven line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<mirror>\n      <id>test</id>\n      <mirrorOf>central</mirrorOf>  # 固定写死\n      <name>Nexus</name>\n      <url>http://192.168.1.29:8866/repository/maven-public/</url>\n</mirror>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("上面id需要保持一致，url从copy按钮获得。")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("有时候快照仓库上的包拉不下来，需要在pom.xml中加上以下配置。")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<repositories>\n    <repository>\n        <id>nexus-maven</id>\n        <name>nexus maven</name>\n        <url>http://192.168.1.29:8866/repository/maven-public/</url>\n        <releases>\n            <enabled>true</enabled>\n            <updatePolicy>always</updatePolicy>\n        </releases>\n        <snapshots>\n            <enabled>true</enabled>\n            <updatePolicy>always</updatePolicy>\n        </snapshots>\n    </repository>\n</repositories>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("具体解释如下：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("<repository>")]),s._v("：定义一个仓库配置。")]),s._v(" "),t("li",[t("code",[s._v("<id>")]),s._v("：仓库的唯一标识符，用于在其他地方引用这个仓库。")]),s._v(" "),t("li",[t("code",[s._v("<name>")]),s._v("：仓库的名称，可以是任意描述性文本。")]),s._v(" "),t("li",[t("code",[s._v("<url>")]),s._v("：仓库的地址，即从哪个 URL 下载依赖构件。")]),s._v(" "),t("li",[t("code",[s._v("<releases>")]),s._v("：用于配置仓库的发布版本策略。\n"),t("ul",[t("li",[t("code",[s._v("<enabled>")]),s._v("：是否启用发布版本下载，这里设置为 "),t("code",[s._v("true")]),s._v(" 表示启用。")]),s._v(" "),t("li",[t("code",[s._v("<updatePolicy>")]),s._v("：更新策略，"),t("code",[s._v("always")]),s._v(" 表示始终尝试下载最新版本的发布构件。")])])]),s._v(" "),t("li",[t("code",[s._v("<snapshots>")]),s._v("：用于配置仓库的快照版本策略。\n"),t("ul",[t("li",[t("code",[s._v("<enabled>")]),s._v("：是否启用快照版本下载，这里设置为 "),t("code",[s._v("true")]),s._v(" 表示启用。")]),s._v(" "),t("li",[t("code",[s._v("<updatePolicy>")]),s._v("：更新策略，"),t("code",[s._v("always")]),s._v(" 表示始终尝试下载最新版本的快照构件。")])])])]),s._v(" "),t("p",[s._v("这段配置指定了一个名为 "),t("code",[s._v("nexus-maven")]),s._v("的仓库，地址为 "),t("a",{attrs:{href:"http://192.168.1.29:8866/repository/maven-public/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://192.168.1.29:8866/repository/maven-public/"),t("OutboundLink")],1),s._v("，并启用了发布版本和快照版本的下载，并且都设置为始终尝试下载最新版本。")]),s._v(" "),t("p",[s._v("通过在 Maven 项目的 "),t("code",[s._v("pom.xml")]),s._v(" 文件中添加这样的 "),t("code",[s._v("<repositories>")]),s._v(" 配置，就可以让 Maven 在构建过程中从指定的 Nexus 仓库获取所需的依赖构件。")])])}),[],!1,null,null,null);t.default=r.exports}}]);